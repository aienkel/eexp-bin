# vim: filetype=fvwm
SetEnv fvwm		$[HOME]/.fvwm/
SetEnv script		$[HOME]/bin/
SetEnv RegularFont "StringEncoding=utf8:xft:Vera Sans YuanTi:size=9:encoding=iso10646-1"

DesktopSize 2x2				#每个桌面分成2x2个页面
####################################################
# 热键
Key r A 4 JumpExec rox
Key o A 4 JumpExec opera
Key z A 4 JumpExec zim
Key x A 4 JumpExec xterm
Key t A 4 Exec exec xterm
Key m A 4 Exec exec xterm -e mocp

Key p A 4 Exec exec pasteimg.pl
Key Menu A A Exec exec $[script]monitor-clip.pl

Key r A CM restart
Key s A CM Exec gksu pm-suspend
Key h A CM Exec gksu pm-suspend-hybrid
Key x A CM Exec exec bash -c 'echo eexp|sudo -S kill `cat /tmp/.X0-lock`'
# 媒体按键
# Fn-[F10...F12]
Key XF86AudioMute		A A Exec exec amixer set Master toggle
Key XF86AudioLowerVolume	A A Exec exec amixer set Master 10%-
Key XF86AudioRaiseVolume	A A Exec exec amixer set Master 10%+
Key F10	A 4 Exec exec amixer set PCM toggle
Key F11	A 4 Exec exec amixer set PCM 5%-
Key F12	A 4 Exec exec amixer set PCM 5%+
# Fn加上下光标，
Key XF86AudioPlay	A A Exec exec ~/bin/mocp-S-P.pl
Key XF86AudioStop	A A Exec exec mocp -G
# Fn加左右光标，定义于~/.xmodmaprc
Key XF86AudioPrev	A A Exec exec mocp -r
Key XF86AudioNext	A A Exec exec mocp -f

#-------------窗口操作---------------
Mouse 0 R A WindowList SortByClass,NoHotkeys,NoGeometry,NoCurrentDeskTitle
Key F2 A A  WindowList SortByClass,NoHotkeys,NoGeometry,NoCurrentDeskTitle
Mouse 1 W C Move
Mouse 3 W C Close

Key 1 W C ResizeMove 50 50 0 0
Key 2 W C ResizeMove 100 50 0 0
Key 3 W C ResizeMove 50 50 50 0
Key 4 W C ResizeMove 50 100 0 0
Key 5 W C ResizeMove 100 100 0 0
Key 6 W C ResizeMove 50 100 50 0
Key 7 W C ResizeMove 50 50 0 50
Key 8 W C ResizeMove 100 50 0 50
Key 9 W C ResizeMove 50 50 50 50

Key 1 W 4 PointerWindow MoveToPage 0 0
Key 2 W 4 PointerWindow MoveToPage 1 0
Key 3 W 4 PointerWindow MoveToPage 0 1
Key 4 W 4 PointerWindow MoveToPage 1 1

########################
# 修正系统函数：恢复窗口时，鼠标居中
AddToFunc WindowListFunc
+ I WarpToWindow 50 50
########################
# Jump & Exec 函数
DestroyFunc JumpExec
AddToFunc JumpExec
+ I All ($0) WindowListFunc
+ I TestRc (NoMatch) Exec exec $0 &

########################
# 菜单样式
DestroyMenu MenuFvwmRoot
MenuStyle * Font "$[RegularFont]",BorderWidth 0,Hilight3DThickness -2,ActiveFore Red
########################
# 样式设置
Style *		SloppyFocus				#移开窗口到root时，不丢失焦点
Style *		MouseFocusClickRaises	#点击窗体上升
Style *		!Title, !Handles, !Borders, !Iconifiable
#设置开启窗口，自动定位到指定桌面
Style rox		StartsOnPage 0 0, PositionPlacement Center
Style zim		UseStyle rox
Style gimp		StartsOnPage 1 1
Style opera		StartsOnPage 1 0, SkipMapping	#后台启动
Style transmission StartsOnPage 0 1
#Style dock	!Title, !Borders, !Iconifiable, Sticky, StaysOnBottom
Style dock		Sticky, StaysOnBottom
Style *panel	UseStyle dock
Style *dock		UseStyle dock
Style *tray		UseStyle dock
Style *clock	UseStyle dock
Style cairo-*	UseStyle dock

Exec exec "$[fvwm]autostart.pl"

