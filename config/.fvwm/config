# vim: filetype=fvwm
SetEnv fvwm			$[HOME]/.fvwm/
SetEnv script		$[HOME]/bin/
DesktopSize			2x1
SetEnv RegularFont	"StringEncoding=utf8:xft:Vera Sans YuanTi:size=12:encoding=iso10646-1"

######################### 热键
#Key r A 4 JumpExec rox
Key f A 4 JumpExec pcmanfm
Key o A 4 JumpExec opera
Key z A 4 JumpExec zim
Key c A 4 JumpExec gnome-control-center
Key x A 4 JumpExec xterm
Key t A 4 Exec exec xterm
Key m A 4 Exec exec bash -c 'type mocp; [ $? ] && rhythmbox || xterm -e mocp'

Key p A 4 Exec exec pasteimg.pl -c
Key Menu A A Exec exec $[script]monitor-clip.pl

Key r A CM restart
Key s A CM Exec gksu pm-suspend
Key h A CM Exec gksu pm-suspend-hybrid
Key x A CM Exec exec bash -c 'echo eexp|sudo -S kill `cat /tmp/.X0-lock`'

######################### 窗口操作
EdgeCommand Bottom WindowList SortByClass,NoGeometry,NoCurrentDeskTitle

Mouse 1 W C Move
Mouse 2 W C Lower
#Mouse 2 W C Resize
Mouse 3 W C Close
Mouse 4 W C Resize w-10 w-10
Mouse 5 W C Resize w+10 w+10

Style * IconBox 1000x100+40-40, IconGrid 20 20, IconFill right bottom, IconSize 64 64, !IconTitle
#Mouse 3 W C Iconify
Mouse 1 I N Iconify
Mouse 3 I N Close
Mouse 4 R N All (CurrentPage,Iconifiable) Iconify off
Mouse 5 R N All (CurrentPage,Iconifiable) Iconify on

Mouse 3 R C Exec exec amixer set Master toggle
Mouse 4 R C Exec exec amixer set Master 5%+
Mouse 5 R C Exec exec amixer set Master 5%-

Stroke 456 3 R N Exec exec bash -c 'type mocp; [ $? ] && rhythmbox-client --next || xterm -e mocp -f'
Stroke 654 3 R N Exec exec bash -c 'type mocp; [ $? ] && rhythmbox-client --previous || xterm -e mocp -r'
Stroke 258 3 R N Exec exec bash -c 'type mocp; [ $? ] && rhythmbox-client --pause || xterm -e mocp -P'
Stroke 852 3 R N Exec exec bash -c 'type mocp; [ $? ] && rhythmbox-client --play || xterm -e mocp -p'

# 方向按键，排列窗口，占半屏幕
#keyname in /usr/include/X11/keysymdef.h
Key Up W C ResizeMove 100 50 0 0
Key Left W C ResizeMove 50 100 0 0
Key Right W C ResizeMove 50 100 50 0
Key Down W C ResizeMove 100 50 0 50

Key Left W M MoveToPage -1p 0
Key Right W M MoveToPage +1p 0
# 全屏
Key Return W C ResizeMove 100 100 0 0

######################### 修正系统函数：恢复窗口时，鼠标居中
AddToFunc WindowListFunc
+ I WarpToWindow 50 50

######################### Jump & Exec 函数
DestroyFunc JumpExec
AddToFunc JumpExec
+ I All ($0) WindowListFunc
+ I TestRc (NoMatch) Exec exec $0 &

######################### 菜单样式
DestroyMenu MenuFvwmRoot
MenuStyle * Font "$[RegularFont]",BorderWidth 0,Hilight3DThickness -2,ActiveFore Red

######################### 样式设置。缺省在0页面启动，无标题/边框/缩略图标，点击窗体上升, 移开窗口到root时，不丢失焦点
Style *		!Title, !Handles, !Borders, MouseFocusClickRaises, SloppyFocus
#Style *		!Title, !Handles, !Borders, !Iconifiable, MouseFocusClickRaises, SloppyFocus
#Style rox		PositionPlacement Center
Style opera		StartsOnPage 1 0, SkipMapping	#后台启动
Style MPlayer	StaysOnTop
Style dock		Sticky, StaysOnBottom
Style *panel	UseStyle dock
Style *dock		UseStyle dock
Style *tray		UseStyle dock
Style *clock	UseStyle dock
Style cairo-*	UseStyle dock

DestroyFunc  StartFunction
AddToFunc    StartFunction
#+ I Module FvwmIconBox
+ I Test (Init) Exec exec stalonetray --geometry +0-0 -t
+ I Test (Init) Exec exec nm-applet
+ I Test (Init) Exec exec fvwm-root -r ~/.fvwm/desktop.png
+ I Test (Init) Exec exec gnome-settings-daemon
+ I Test (Init) Exec exec xcompmgr -C
+ I Test (Init) Exec exec cairo-weather.pl
+ I Test (Init) Exec exec tilda
+ I Test (Init) Exec exec kupfer
+ I Test (Init) Exec exec yunio
+ I Test (Init) Exec exec ubuntuone-launch
+ I Test (Init) Exec exec ~/bin/goagent.bash
#+ I Test (Init) Exec exec xmodmap -e "pointer = 3 2 1"
#Exec exec "$[fvwm]autostart.pl"


